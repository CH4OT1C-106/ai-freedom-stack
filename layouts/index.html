{{ define "main" }}

<!-- Hero -->
<section class="hero">
  <div class="container">
    <p class="hero-eyebrow">For freelancers, indie makers, and one-person startups</p>
    <h1>AI tools to <span class="highlight">build your freedom</span></h1>
    <p class="tagline">Every tool here has been tested building real projects â€” not just reviewed from a spec sheet. Honest ratings, real workflows, zero sponsored rankings.</p>
    <span style="display:none;">Impact-Site-Verification: 11cff3be-dfca-4230-9c83-9dd7885726ea</span>
    <div class="hero-stats">
      <div class="hero-stat">
        <span class="stat-number">{{ len (where .Site.RegularPages "Section" "tools") }}</span>
        <span class="stat-label">Tools Reviewed</span>
      </div>
      <div class="hero-stat">
        <span class="stat-number">{{ len (where .Site.RegularPages "Section" "compare") }}</span>
        <span class="stat-label">Comparisons</span>
      </div>
      <div class="hero-stat">
        <span class="stat-number">{{ len (where .Site.RegularPages "Section" "stacks") }}</span>
        <span class="stat-label">Curated Stacks</span>
      </div>
    </div>
    <div class="cta-group">
      <a href="/tools/" class="btn btn-primary">Browse Tools</a>
      <a href="/compare/overview/" class="btn btn-secondary">See All Scores</a>
    </div>
  </div>
</section>

<!-- What is Freedom Score -->
<section class="section trust-bar">
  <div class="container">
    <div class="trust-content">
      <h2>Every tool gets a <span class="highlight">Freedom Score</span></h2>
      <p>We rate tools on what matters to solo builders â€” not enterprise feature checklists. Five factors, one question: <strong>does this tool help you build independently, or trap you in another subscription?</strong></p>
      <div class="trust-factors">
        <span class="trust-factor">ğŸ”’ Vendor Lock-in</span>
        <span class="trust-factor">ğŸ§‘â€ğŸ’» Solo Builder Fit</span>
        <span class="trust-factor">ğŸ’° Cost Efficiency</span>
        <span class="trust-factor">ğŸ”„ Portability</span>
        <span class="trust-factor">ğŸ“– Open Source</span>
      </div>
    </div>
  </div>
</section>

<!-- Featured Tools (bigger cards) -->
{{ $featured := where .Site.RegularPages "Params.featured" true }}
{{ if $featured }}
<section class="section">
  <div class="container">
    <div class="section-header">
      <h2>ğŸ”¥ Editor's Picks</h2>
      <p class="section-desc">The tools we'd recommend first to any solo builder starting out.</p>
    </div>
    <div class="featured-grid">
      {{ range $featured }}
      <a href="{{ .RelPermalink }}" class="featured-card-big">
        <div class="featured-card-top">
          <span class="featured-badge">Editor's Pick</span>
          {{ with .Params.freedom_score }}
          {{ $color := "#ef4444" }}
          {{ if ge . 7 }}{{ $color = "#22c55e" }}
          {{ else if ge . 5 }}{{ $color = "#eab308" }}
          {{ else if ge . 3 }}{{ $color = "#f97316" }}
          {{ end }}
          <span class="featured-score" style="color: {{ $color }}">ğŸ›¡ï¸ {{ . }}/10</span>
          {{ end }}
        </div>
        <div class="featured-icon">{{ .Params.icon }}</div>
        <h3>{{ .Title }}</h3>
        <p>{{ .Description }}</p>
        <div class="tool-meta">
          <span class="tool-price">{{ .Params.price }}</span>
          {{ with .Params.freedom_label }}<span class="freedom-tag">{{ . }}</span>{{ end }}
        </div>
      </a>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Browse by Use Case -->
<section class="section">
  <div class="container">
    <div class="section-header">
      <h2>ğŸ¯ Find Tools by What You're Building</h2>
    </div>
    <div class="usecase-grid">
      <a href="/use-cases/faceless-youtube/" class="usecase-card">
        <span class="usecase-icon">ğŸ¬</span>
        <span class="usecase-label">Faceless YouTube</span>
      </a>
      <a href="/use-cases/newsletter-automation/" class="usecase-card">
        <span class="usecase-icon">ğŸ“§</span>
        <span class="usecase-label">Newsletter Automation</span>
      </a>
      <a href="/use-cases/solo-saas/" class="usecase-card">
        <span class="usecase-icon">ğŸš€</span>
        <span class="usecase-label">Solo SaaS</span>
      </a>
      <a href="/use-cases/ai-research/" class="usecase-card">
        <span class="usecase-icon">ğŸ”</span>
        <span class="usecase-label">AI Research</span>
      </a>
      <a href="/use-cases/local-private-ai/" class="usecase-card">
        <span class="usecase-icon">ğŸ”’</span>
        <span class="usecase-label">Local & Private AI</span>
      </a>
      <a href="/stacks/" class="usecase-card">
        <span class="usecase-icon">ğŸ“¦</span>
        <span class="usecase-label">Curated Stacks</span>
      </a>
    </div>
  </div>
</section>

<!-- Latest Tools -->
<section class="section">
  <div class="container">
    <div class="section-header">
      <h2>Latest Reviews</h2>
      <a href="/tools/" class="view-all">View all {{ len (where .Site.RegularPages "Section" "tools") }} tools â†’</a>
    </div>
    <div class="tools-grid">
      {{ range first 6 (where .Site.RegularPages "Section" "tools") }}
      <a href="{{ .RelPermalink }}" class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">{{ .Params.icon }}</div>
          <div>
            <div class="tool-name">{{ .Title }}</div>
            <div class="tool-category">{{ .Params.category }}</div>
          </div>
        </div>
        <div class="tool-tags">
          {{ range .Params.tags }}<span class="tag">{{ . }}</span>{{ end }}
        </div>
        <p class="tool-desc">{{ .Description }}</p>
        <div class="tool-meta">
          <span class="tool-price">{{ .Params.price }}</span>
          {{ with .Params.freedom_score }}
          {{ $color := "#ef4444" }}
          {{ if ge . 7 }}{{ $color = "#22c55e" }}
          {{ else if ge . 5 }}{{ $color = "#eab308" }}
          {{ else if ge . 3 }}{{ $color = "#f97316" }}
          {{ end }}
          <span style="color: {{ $color }}; font-weight: 600;">ğŸ›¡ï¸ {{ . }}/10</span>
          {{ end }}
        </div>
      </a>
      {{ end }}
    </div>
  </div>
</section>

<!-- Popular Comparisons -->
<section class="section">
  <div class="container">
    <div class="section-header">
      <h2>âš”ï¸ Popular Comparisons</h2>
      <a href="/compare/" class="view-all">View all â†’</a>
    </div>
    <div class="compare-grid">
      {{ range first 4 (where .Site.RegularPages "Section" "compare") }}
      <a href="{{ .RelPermalink }}" class="compare-card">
        <h3>{{ .Title }}</h3>
        <p>{{ .Description }}</p>
      </a>
      {{ end }}
    </div>
  </div>
</section>

<!-- Newsletter CTA -->
<section class="section" id="newsletter">
  <div class="container">
    <div class="newsletter-cta">
      <span class="newsletter-badge">Free Weekly Newsletter</span>
      <h2>The AI tools your competitors don't know about yet</h2>
      <p>Every Wednesday: one new tool breakdown, one workflow you can steal, and the honest take on what's worth your time. Join solo builders who actually ship.</p>
      <div class="newsletter-features">
        <span>âœ… New tool reviews</span>
        <span>âœ… Steal-worthy workflows</span>
        <span>âœ… Zero fluff, unsubscribe anytime</span>
      </div>
      <form class="email-form" id="hp-subscribe" onsubmit="return hpSubscribe(event)">
        <input type="email" id="hp-email" name="email" placeholder="your@email.com" required>
        <button type="submit" class="btn btn-primary" id="hp-btn">Subscribe Free â†’</button>
      </form>
      <div id="hp-success" style="display:none; color: var(--accent-primary); font-weight: 600; font-family: var(--font-display); padding: 1rem 0;">âœ“ You're in â€” check your inbox!</div>
      <p style="margin-top: var(--space-sm);"><a href="/newsletter/" style="color: var(--text-muted); font-size: 0.85rem;">Learn more about the newsletter â†’</a></p>
      <script>
      async function hpSubscribe(e) {
        e.preventDefault();
        const btn = document.getElementById('hp-btn');
        btn.textContent = 'Subscribing...';
        btn.disabled = true;
        try {
          const res = await fetch('/.netlify/functions/subscribe', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email: document.getElementById('hp-email').value }),
          });
          if (res.ok) {
            document.getElementById('hp-subscribe').style.display = 'none';
            document.getElementById('hp-success').style.display = 'block';
          } else { throw new Error(); }
        } catch(err) {
          btn.textContent = 'Try again â†’';
          btn.disabled = false;
        }
      }
      </script>
    </div>
  </div>
</section>

<!-- Curator line -->
<section class="section curator-bar">
  <div class="container" style="text-align: center;">
    <p style="color: var(--text-secondary); font-size: 0.95rem;">Curated by <a href="/about/" style="color: var(--accent-secondary);">Adrian Mercer</a> â€” building with AI tools every day so you don't have to test everything yourself. <a href="/about/" style="color: var(--accent-secondary);">Learn more â†’</a></p>
  </div>
</section>

{{ end }}
